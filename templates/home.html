<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ title }}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <script src="{{ url_for('static', filename='/js/checkbox_listener.js') }}"></script>
  <script src="{{ url_for('static', filename='/js/susi.js') }}"></script>
</head>
<body>
  <header>
    <h1>Welcome to My Website </h1>



    <nav>
      <ul>
        <div class="susi" >
        <li><a  href="#" id="user">Logged in as: Guest</a></li> 
        <li><a  href="#" id="signup-link" onclick="switchModal('signup-modal')">Sign Up</a></li> 
        <li><a  href="#" id="signin-link"onclick="switchModal('signin-modal')">Sign In</a></li> 
      </div>
      </ul>
    </nav>
  </header>
<!-- Modal for Sign-up -->
<div id="signup-modal" class="modal" >
  <div class="modal-content">
    <span class="close" onclick="hideModal('signup-modal')">&times;</span>
    <h2>Sign up</h2>
    <form class="modal-form" id="signup-form">
      <label for="email">Email:</label>
      <input  class="form-input" type="email" id="email" name="email"><br>
      <label for="password">Password:</label>
      <input  class="form-input" type="password" id="password" name="password"><br>
      <label for="confirm-password">Confirm Password:</label>
      <input  class="form-input" type="password" id="confirm-password" name="confirm-password"><br>
      <input type="submit" value="Sign Up" id="signup-button">
    </form>
  </div>
</div>
<script>
  addModalClickListener('signup-modal');
  addSendToBackend("signup-modal" ,'signup-form','signup-button','/signup')
</script>


<div id="signin-modal" class="modal">
  <div class="modal-content">
    <span class="close"onclick="hideModal('signin-modal')">&times;</span>
    <h2>Sign in</h2>
    <div id="status-message"></div>
    <form class="modal-form" id="signin-form" >
      <label for="email"  >Email:</label>
      <input class="form-input" type="email" id="email" name="email"><br>
      <label for="password">Password:</label>
      <input class="form-input" type="password" id="password" name="password"><br>
      <input type="submit" value="Sign In" id="signin-button">
    </form>
  </div>
</div>
<script>
  addModalClickListener('signin-modal');
  addSendToBackend("signin-modal" ,'signin-form','signin-button','/signin')
</script>

  <main>
    <section>
      <h2>Who We Are</h2>
      <p id="test">{{ content1 }}  {{ txt }} </p>
      <script> connectToSocketIO()</script>
    </section>

    <section>
      <h2>What We Do</h2>
      <p>{{ content2 }}</p>
    </section>

    <section>
      <h2>Our Services</h2>
      <ul class="scrollable narrow">
        {% for service in services %}
        <li>{{ service }}</li>
        {% endfor %}
      </ul>
    </section>


    <section>
        <div class="tab">
          <button class="tablinks active" onclick="openTab(event, 'tab1')">Channels</button>
          <button class="tablinks" onclick="openTab(event, 'tab2')">Keywords</button>
          <button class="tablinks" onclick="openTab(event, 'tab3')">Configs</button>
        </div>
        <!-- tab 1 -->
        <div id="tab1" class="tabcontent", style="display:block;">
          <h3>Choose channels</h3>
          <section>
            <ul id="channels" style="list-style-type:none;">
              {% for channel,url in python_d_items(channels)  %}
              <li>
                <input type="checkbox" name="{{ channel }}" value="{{ channel }}">
                <a href="{{ url }}" target="_blank">{{ channel }}</a>
                
              </li>
              {% endfor %}
            </ul>
          </section>
         <script>
          attachCheckboxListeners('channels', '/channels');
        </script>
        </div>

        <!-- tab 2 -->
        <div id="tab2" class="tabcontent">
          <h3>choose keywords</h3>
          <section>
            <ul id="keywords" style="list-style-type:none;">
              {% for k,v in python_d_items(keywords)  %}
              <li>
                <input type="checkbox" name="{{ k }}" value="{{ v }}">
                <label for="{{ k }}">{{ k }}</label>
              </li>
              {% endfor %}
            </ul>
          </section>
          <script>
            attachCheckboxListeners('keywords', '/keywords');
          </script>
        </div>
        <!-- tab 3 -->
        <div id="tab3" class="tabcontent">
          <h3>choose configs</h3>
          <section>
            <label for="email">mail</label>
            <input type="email" id="email" name="email" required placeholder="your email ">

            <ul id="configs" style="list-style-type:none;">
              {% for k,v in python_d_items(configs)  %}
              <li>
                <input type="checkbox" name="{{ k }}" value="{{ v }}">
                <label for="{{ k }}">{{ k }}</label>
              </li>
              {% endfor %}
            </ul>

          </section>
          <script>
            attachCheckboxListeners('configs', '/configs');
          </script>
        </div>


      



      </section>
      
      <script>
        
      function openTab(evt, tabName) {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
          tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(tabName).style.display = "block";
        evt.currentTarget.className += " active";
      }
      </script>

<!-- index.html -->
  


  </script>  
  </main>

  <footer>
    <p>Copyright Â© 2023 My Website</p>
  </footer>

</body>
</html>
